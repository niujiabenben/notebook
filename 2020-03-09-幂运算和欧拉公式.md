# 幂运算和欧拉公式

中学的时候学指数函数, 其定义域是整个实数集合. 当时也没有考虑指数为无理数时幂运算是怎么定义的. 画函数图像的时候, 只算出整数点, 然后由函数的光滑性得出其他的值. 这里我们深究一下幂运算的定义方式, 进而导出欧拉公式.

## 实数集上幂运算的定义(方法一)

我们考虑如下幂运算:

$$
y=a^x \tag{1}
$$

其中, $a$ 为底数, $x$ 为指数. 为了简单起见, 我们先考虑底数大于0的情况.

当指数为正整数时, 我们定义幂运算如下:

$$
a^x= \underbrace{a*a* \cdots * a}_{x个a} \tag{2}
$$

由此, 我们得到如下的运算性质:

$$
a^x * a^y = a^{x+y} \tag{3}
$$

$$
\frac{a^x}{a^y} = a^{x-y} \tag{4}
$$

$$
(a^x)^y = a^{x*y} \tag{5}
$$

其他情况的运算方法都由以上三个运算性质得来.  下面一个个来说明.

**情况1**: 当指数为整数时, 可由公式4得到以下运算法则:

$$
\begin{cases}
 a^x = a^x \\
 a^0 = 1 \\
a^{-x} = \frac{1}{a^x} 
\end{cases} \tag{6}
$$

**情况2**: 当指数为分数时, 由公式5可得:

$$
(a^{\frac{1}{x}})^x = a \Rightarrow a^{\frac{1}{x}} = \sqrt[x]{a} \tag{7}
$$

由此, 我们将 $a^{\frac{1}{x}}$ 定义为方程($t$为变量): $t^x=a$ 的大于0的解.

于是, 对整个有理数集, 有:

$$
a^{\frac{m}{n}} = \sqrt[n]{a^m} \quad m, n \in Z \tag{8}
$$

**情况3**: 当指数为无理数时, 可以用极限来定义此幂运算. 注意到任意一无理数都可以表示为有理数数列的极限:

$$
x = \lim_{n \to \infty}{t_n}  \tag{9}
$$

其中 $t_n$ 为 $x$ 的前 $n$ 位数字. 则无理数指数幂可定义为:

$$
a^x = \lim_{n \to \infty}{a^{t_n}}  \tag{10}
$$

至此, 我们定义了整个实数集上的幂运算.

## 实数集上幂运算的定义(方法二)

上面实数集上幂运算的定义比较零散. 实际上, 借助于自然底数 $e$, 我们可以统一定义实数集上的幂运算. 数学上, $e$ 有多种定义方式, 我们取最常见的定义: 

$$
e = \lim_{n \to \infty}{(1 + \frac{1}{n})^{n}}  \tag{11}
$$

其中, $n$ 为正整数. 当 $x$ 为正整数时,  $nx$ 也为正整数. 且有:

$$
e^x = \lim_{n \to \infty}{(1 + \frac{1}{n})^{nx}} 
    = \lim_{n \to \infty}{(1 + \frac{x}{nx})^{nx}}  
    = \lim_{n \to \infty}{(1 + \frac{x}{n})^{n}}  \tag{12}
$$

注意到公式12中, 只涉及到指数为正整数的幂运算. 因此, 当我们用公式2定义了正整数的幂运算之后, 公式12就有了良好的定义. 

我们可以把公式12拓展到整个实数, 即 $e$ 的实数次幂定义为:

$$
e^x = \lim_{n \to \infty}{(1 + \frac{x}{n})^{n}} \tag{13}, \quad x \in R
$$

其他底数的幂运算的定义如下:

$$
a^x = e^{lna^x} = e^{xlna} \tag{14}
$$

其中, $lna$ 被定义为方程($t$ 为变量) $e^t=a$  的解.

## 复数集上的幂运算

借助公式13, 我们很容易将幂运算扩展到复数集, 只需要定义复数的乘法和复数的整数次幂即可:

$$
e^x = \lim_{n \to \infty}{(1 + \frac{x}{n})^{n}} \tag{15}, \quad x \in C
$$

同理, 其他底数的复数次幂由公式14定义. 至此, 我们定义了底数为正实数, 指数为复数的幂运算.

另一方面, 当 $x$ 为实数时, 有如下泰勒展开式:

$$
e^x = 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \cdots  \tag{16}
$$

$$
\cos x = 1 - \frac{x^{2}}{2!} + \frac{x^{4}}{4!} - \frac{x^{6}}{6!} + \cdots \tag{17}
$$

$$
\sin x = x - \frac{x^{3}}{3!} + \frac{x^{5}}{5!} - \frac{x^{7}}{7!} + \cdots  \tag{18}
$$

将 $x=iz$ 代入 $e^x$ 得:

$$
\begin{aligned}
e^{iz} &= 1 + iz - \frac{z^2}{2!} - i\frac{z^3}{3!} + \frac{z^4}{4!} +
 i\frac{z^5}{5!} - \frac{z^6}{6!} - i\frac{z^7}{7!} + \cdots \\
       &= (1 - \frac{z^2}{2!} + \frac{z^4}{4!} - \frac{z^6}{6!} + \cdots) +
 i(z - \frac{z^3}{3!} + \frac{z^5}{5!} - \frac{z^7}{7!} + \cdots) \\
       &= \cos z + i \sin z \tag{19}
 \end{aligned}
$$

这就是欧拉公式. 特别的, 当 $z=\pi$ 时, 有:

$$
e^{i\pi} + 1 = 0  \tag{20}
$$

因此, 我们也可以定义 $e$ 的纯虚数次幂为:

$$
e^{ix} = \cos x + i \sin x  \tag{21}
$$

则 $e$ 的任意复数次幂为:

$$
e^{a+ib} = e^a \cdot e^{ib} = e^a(\cos b + i \sin b)  \tag{22}
$$

其他底数的幂运算还是通过公式14定义.

## 底数和指数都为复数的幂运算

考虑底数和指数都为复数的幂运算问题: 

$$
(a+bi)^{c+di}, \quad a,b,c,d \in R  \tag{23}
$$

一般情况下, 我们先把底数通过欧拉公式化简为 $e$ 的指数幂的形式:

$$
\begin{aligned}
a+bi &= \sqrt{a^2+b^2}(\frac{a}{\sqrt{a^2+b^2}} + \frac{b}{\sqrt{a^2+b^2}}i) \\
     &= \sqrt{a^2+b^2}(\cos \psi + i \sin \psi)  \\
     &= \sqrt{a^2+b^2} \cdot e^{i \psi}
\end{aligned}  \tag{24}
$$

因此:

$$
\begin{aligned}
(a+bi)^{c+di} &= (\sqrt{a^2+b^2} \cdot e^{i \psi})^{c+di}  \\
              &= (a^2+b^2)^{\frac{c+di}{2}} \cdot e^{-d\psi + c \psi i}
\end{aligned}  \tag{25}
$$

这样, 将公式23转化为两个底数为正实数, 指数为复数的幂的乘积的形式.

## $i^i$ 等于多少?










